<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="AR.css">
    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <script src="https://rawcdn.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
</head>

<body style='margin : 0px; overflow: hidden;'>
<div class='convo-bubble'></div>

<a-scene
        id="a-scene"
        arjs="sourceType: webcam; debugUIEnabled: false;"
        embedded
        renderer="logarithmicDepthBuffer: true;"
        vr-mode-ui="enabled: false"
        id="scene"
        cursor="rayOrigin: mouse" accepts-clicks>
    <a-assets>

        <a-asset-item id="Home" src="../assets/3dModal/Home/scene.gltf"></a-asset-item>
        <a-asset-item id="KrabbyPatty" src="../assets/3dModal/KrabbyPatty/scene.gltf"></a-asset-item>
        <a-asset-item id="KrustyKrab" src="../assets/3dModal/KrustyKrab/scene.gltf"></a-asset-item>
        <a-asset-item id="Patrick" src="../assets/3dModal/Patrick/scene.gltf"></a-asset-item>
        <a-asset-item id="SpongeBob" src="../assets/3dModal/SpongeBob/scene.gltf"></a-asset-item>
        <a-asset-item id="Squidward" src="../assets/3dModal/Squidward/scene.gltf"></a-asset-item>
    </a-assets>

    <!--<a-marker id="Home-1" preset="Home">
        <a-entity id="Home-gltf" position="0 0.5 0" rotation="0 180 0" scale="0.5 0.5 0.5"
                  gltf-model="#Home"></a-entity>
    </a-marker>
    <a-marker id="KrabbyPatty-1" preset="KrabbyPatty">
        <a-entity id="KrabbyPatty-gltf" position="0 0.5 0" rotation="0 180 0" scale="0.5 0.5 0.5"
                  gltf-model="#KrabbyPatty"></a-entity>
    </a-marker>
    <a-marker id="KrustyKrab-1" preset="KrustyKrab">
        <a-entity id="KrustyKrab-gltf" position="0 0.5 0" rotation="0 180 0" scale="0.5 0.5 0.5"
                  gltf-model="#KrustyKrab"></a-entity>
    </a-marker>
    <a-marker id="Patrick-1" preset="Patrick">
        <a-entity id="Patrick-gltf" position="0 0.5 0" rotation="0 180 0" scale="0.5 0.5 0.5"
                  gltf-model="#Patrick"></a-entity>
    </a-marker>
    <a-marker id="SpongeBob-1" preset="SpongeBob">
        <a-entity id="SpongeBob-gltf" position="0 0.5 0" rotation="0 180 0" scale="0.5 0.5 0.5"
                  gltf-model="#SpongeBob"></a-entity>
    </a-marker>
    <a-marker id="Squidward-1" preset="Squidward">
        <a-entity id="Squidward-gltf" position="0 0.5 0" rotation="0 180 0" scale="0.5 0.5 0.5"
                  gltf-model="#Squidward"></a-entity>
    </a-marker>-->

    <a-entity camera></a-entity>

</a-scene>


</body>
<script>
    window.onload = function () {
        const roleString = location.search.split('=')[1]

        const marker = document.createElement('a-marker')
        marker.setAttribute('id', roleString + '-1')
        marker.setAttribute('preset', roleString)

        const entity = document.createElement('a-entity')
        entity.setAttribute('id', roleString + '-gltf')
        entity.setAttribute('position', "0 0.5 0")
        entity.setAttribute('rotation', "0 180 0")
        entity.setAttribute('scale', "1 1 1")
        entity.setAttribute('gltf-mode', "#" + roleString)

        marker.appendChild(entity)
        document.querySelector('#a-scene').appendChild(marker)
    }
</script>

</html>